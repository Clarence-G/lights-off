# 星光唤醒 - 趣味解谜游戏

一个基于Next.js构建的益智解谜游戏，前身为经典的Lights-Out游戏。玩家需要通过点亮所有星星，让星空璀璨。游戏融合了优雅的视觉效果和逻辑思维挑战，适合各个年龄段的玩家。

![星光唤醒游戏截图](https://i.imgur.com/example.png)

## 游戏规则

- 游戏界面是一个方形星图（可选3x3、4x4或5x5大小）
- 点击一颗星星会改变该星星及其上下左右相邻星星的状态（亮变暗，暗变亮）
- 游戏目标是点亮所有星星，让星空完全璀璨
- 系统会记录完成游戏所用的点击次数

## 主要功能

### 基础功能
- 3种难度级别（3x3、4x4、5x5星图）
- 移动次数统计
- 胜利检测与庆祝界面
- 一键重置游戏

### 特色功能
- **护眼模式**：降低星光亮度和闪烁效果，减轻眼睛疲劳，适合夜间游戏
- **移动设备适配**：响应式设计，自动调整星星大小，适合各种屏幕尺寸
- **触摸优化**：专为触摸屏设备优化的交互体验

### 隐藏功能（开发者模式）
连续点击5次标题可激活开发者模式，解锁以下功能：
- **自定义星图**：可以手动设置初始星图状态
- **随机星图**：一键生成随机初始状态
- **求解提示**：提供最优解决方案，显示应点击哪些星星

## 技术栈

- **前端框架**：Next.js 14
- **UI库**：React 18
- **语言**：TypeScript
- **样式**：CSS Modules + Tailwind CSS
- **状态管理**：React Hooks
- **动画效果**：CSS Animations
- **部署**：Vercel

## 本地开发

首先，克隆此仓库并安装依赖：

```bash
git clone <repository-url>
cd lights-off
npm install
```

然后，启动开发服务器：

```bash
npm run dev
```

打开 [http://localhost:3000](http://localhost:3000) 在浏览器中查看应用。

## 部署到Vercel

此项目已配置为可以轻松部署到Vercel平台。

### 部署步骤：

1. 创建一个 [Vercel 账号](https://vercel.com/signup)
2. 将代码推送到GitHub仓库
3. 在Vercel控制台中导入此GitHub仓库
4. Vercel将自动检测到Next.js项目并使用最佳配置
5. 点击"Deploy"按钮

或者，您可以使用Vercel CLI进行部署：

```bash
npm i -g vercel
vercel
```

## 游戏策略

星光唤醒游戏看似简单，实则蕴含丰富的数学原理，基于模2线性代数：

- **系统解法**：可以通过高斯消元法求解最优步骤
- **奇偶性原理**：对于奇数大小的棋盘，如果初始状态有奇数个暗星星，则无解
- **从底部向上解法**：先处理顶部行，逐行推进，最后验证底行是否全亮

开发者模式中的求解功能使用高斯消元法找出最优解，适合学习和研究游戏策略。

## 自定义开发

### 添加新主题

如果您想创建新的视觉主题，可以修改 `LightsGame.module.css` 文件：

```css
/* 添加新主题样式 */
.newTheme {
  /* 自定义背景和星星样式 */
}
```

### 调整游戏难度

可以修改 `LightsGame.tsx` 文件中的初始化函数来调整游戏生成算法：

```typescript
// 随机翻转更多或更少次数来改变难度
const flips = Math.max(boardSize * 3, 8); // 增加翻转次数使游戏更难
```

## 许可证

MIT
